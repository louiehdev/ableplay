{{define "gameCard"}}
{{if .}}
{{$game := .}}
<div class="card">
    <!-- <img src="..." class="card-img-top" alt="..."> -->
    <div class="card-body">
        <h5 class="card-title">{{$game.Title}}</h5>
        <p class="card-subtitle"><small>{{$game.Description}}</small></p>
    </div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item">Release Year: {{$game.ReleaseYear}}</li>
        <li class="list-group-item">
        Platforms: 
        {{range $i, $p := $game.Platforms}}
            {{if $i}},{{end}}
            {{ $p }}
        {{end}}
        </li>
        <li class="list-group-item">
        Accessibility Features: 
        {{range $feature := $game.GameFeatures}}
            <a tabindex="0" 
                class="card-link" 
                data-bs-toggle="popover" 
                data-bs-trigger="focus" 
                data-bs-title="{{$game.Title}}" 
                data-bs-content="{{$feature.Notes}} <small class='text-secondary'>{{if $feature.Verified}}Verified{{else}}Not Verified{{end}}</small>" 
                data-bs-html="true">
                {{$feature.Name}}
            </a>
        {{end}}
        </li>
    </ul>
    <div class="card-body">
        <input type="hidden" id="game-{{$game.ID}}" name="game_id" value="{{$game.ID}}">
        <input type="hidden" id="game-{{$game.ID}}-title" name="title" value="{{$game.Title}}">
        <button hx-get="/games/features/newform" hx-include="#game-{{$game.ID}}, #game-{{$game.ID}}-title" hx-target="#gamesForm" hx-swap="innerHTML" class="btn btn-outline-info">
        Add Feature
        </button>
        <button hx-get="/games/updateform" hx-include="#game-{{$game.ID}}" hx-target="#gamesForm" hx-swap="innerHTML" class="btn btn-outline-secondary">
        Update
        </button>
        <button hx-delete="/games/{{$game.ID}}" hx-confirm="Are you sure you want to delete this Game?" class="btn btn-outline-danger">
        Delete
        </button>
    </div>
</div>
{{end}}
{{end}}